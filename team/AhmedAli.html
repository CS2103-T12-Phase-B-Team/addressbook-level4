<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Ahmed Ali - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Ahmed Ali - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-touristbook"><a class="link" href="#project-touristbook">Project: TouristBook</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>TouristBook is a desktop addressbook application used for teaching Software Engineering principles. The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 6 kLoC.</p>
</div>
<div class="paragraph">
<p>The addressbook was adapted to be used by a tour guide and features were added to it to further increase its usability for the scenario.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-T12-B4/main/blob/master/collated/main/aali195.md">Functional code</a>] [<a href="https://github.com/CS2103AUG2017-T12-B4/main/blob/master/collated/main/aali195-reused.md">Reused code</a>] [<a href="https://github.com">Test code is WIP</a>]</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-person-image"><a class="link" href="#enhancement-added-person-image">Enhancement Added: Person Image</a></h3>
<div class="paragraph">
<p>Issues: <a href="https://github.com/CS2103AUG2017-T12-B4/main/issues/18">#18</a>, <a href="https://github.com/CS2103AUG2017-T12-B4/main/issues/55">#55</a><br>
Pull requests: <a href="https://github.com/CS2103AUG2017-T12-B4/main/pull/38">#38</a>, <a href="https://github.com/CS2103AUG2017-T12-B4/main/pull/44">#44</a>, <a href="https://github.com/CS2103AUG2017-T12-B4/main/pull/64">#64</a></p>
</div>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
<div class="paragraph">
<p>Set and show an image for a person in the addressbook. Uses the index of a person to select them and a URL to the image path. Since v1.3.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>image INDEX FILEPATH</code></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>image 1 /home/user/someexamplepic.jpg</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>The feature is in place to help users quickly identify persons in the addressbook by looking at the image assigned to them. The current design assigns a default image to each added user by default and allows the user to change it to their liking.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
<div class="paragraph">
<p>A feature that allows the user to add an image to a person in the addressbook via the command line. A basic default image is used if a person does not have an image associated to them. The feature uses the command <code>image</code> followed by the index of the person to be selected and then the local URL of the image file.</p>
</div>
<div class="paragraph">
<p>The command works as following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Parse the args provided by the user to check the index and filepath for correctness and availability</p>
</li>
<li>
<p>Copy the image at the URL if available to a directory local to the application using the <code>Files</code> and <code>imageio</code> libraries and given a hashed file name.</p>
</li>
<li>
<p>Store the new local image URL into an <code>image</code> object.</p>
</li>
<li>
<p>Read the new URL using <code>ImageView</code> in the UI component which is then read by the <code>PersonListCard</code> FXML file to display the image.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Hashed names are given using the hash code of each person&#8217;s email address using the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>image.setPath(imageUtil.run(image.getPath(), personToEdit.getEmail().hashCode()))</pre>
</div>
</div>
<div class="paragraph">
<p>Where the <code>imageUtil</code> class is a helper utility class that contains the code for interacting with image files</p>
</div>
<div class="paragraph">
<p>A person image is set using the following class in the <code>PersonCard</code> class in the UI component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>private void assignImage(ReadOnlyPerson person) {
    if (!person.getImage().getPath().equals("")) {
        Image imageToSet = new Image("file:" + "images/" + person.getImage().getPath() + ".png",
                100, 100, false, false);

        centerImage();
        pImage.setImage(imageToSet);
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>The current implementation of this feature is based on <a href="https://github.com/nus-cs2103-AY1718S1/forum/issues/120/">this feature</a> for reasons explained in my <a href="https://github.com/CS2103AUG2017-T12-B4/main/issues/18">issue</a> about it.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Storage of each person&#8217;s image<br>
<strong>Alternative 1 (current choice):</strong> Copy the image to a local directory and point to that<br>
<strong>Pros:</strong> Easier to implement as it the framework for implementing a command like this is well documented<br>
<strong>Cons:</strong> Longer code that requires more testing<br>
<strong>Alternative 2:</strong> Store the bytes of each image encoded using base64<br>
<strong>Pros:</strong> Shorter code and easier to move the addressbook database.<br>
<strong>Cons:</strong> More complex code and a bloated addressbook file size that is easily corruptible.<br>
<strong>Alternative 3:</strong> Allow only images from the web to be added using their URL<br>
<strong>Pros:</strong> No need to store the image locally so less space needed and an easier way to export/import the database.<br>
<strong>Cons:</strong> Image is lost if there is no internet connection or if the image is taken down.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Naming of each file<br>
<strong>Alternative 1 (current choice):</strong> Each image filename is using the hashcode of the email address of the person<br>
<strong>Pros:</strong> Unique and simple to choose filename with a constant pattern<br>
<strong>Cons:</strong> Harder for a human to read<br>
<strong>Alternative 2:</strong> Each image is named after each person&#8217;s names/other property<br>
<strong>Pros:</strong> Readable by humans and easy to associate with a person in the addressbook<br>
<strong>Cons:</strong> Causes conflicts when different contacts have the same properties (email addresses have to be unique)</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-export"><a class="link" href="#enhancement-added-export">Enhancement Added: export</a></h3>
<div class="paragraph">
<p>Issues: <a href="https://github.com/CS2103AUG2017-T12-B4/main/issues/22">#22</a>, <a href="https://github.com/CS2103AUG2017-T12-B4/main/issues/55">#55</a><br>
Pull requests: <a href="https://github.com/CS2103AUG2017-T12-B4/main/pull/51">#51</a>, <a href="https://github.com/CS2103AUG2017-T12-B4/main/pull/64">#64</a></p>
</div>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
<div class="paragraph">
<p>Export a working version of the database and the images associated with it to the application directory or a specified directory. Since v1.5rc.+</p>
</div>
<div class="paragraph">
<p>Format: <code>export [FILEPATH]</code></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>export</code></p>
</li>
<li>
<p><code>export /home/user/someexamplepic</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>This feature allows the database of the addressbook more redundancy if the user wishes so. The user can create multiple versioned backups and store them anywhere they want. The addressbook database becomes much more portable providing more resilience to the application once it is deployed and running. The resulting addressbook database is in a compressed zip format, which is open and available out of the box on most operating systems.</p>
</div>
<div class="paragraph">
<p>A more advanced user can also manually extract the database files from the resulting file and use them in their addressbook if they want.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
<div class="paragraph">
<p>A feature that allows the user to export the addressbook and images saved to a compressed file.</p>
</div>
<div class="paragraph">
<p>The command works as following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Parse the args provided by the user to check the filepath (if provided) for correctness and availability</p>
</li>
<li>
<p>Create a zipfile at the filepath specified by the user or at the application directory if it isn&#8217;t is provided</p>
</li>
<li>
<p>Read each file at the source (the folder where the addressbook is) and add them to the zip file</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Checking the input of the filepath is done using the following code which either sets a default name and directory or takes the name and path given by the user and attaches the format at the end.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    if (destPath.equals("")) {
        destZipFile = "AddressbookData.zip";
    } else {
        destZipFile = destPath + ".zip";
    }</pre>
</div>
</div>
<div class="paragraph">
<p>Adding each file into the target zip is done by the following code using ZipEntry which is found in java.util.zip</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    byte[] buf = new byte[1024];
    int len;
    FileInputStream in = new FileInputStream(source);
    zip.putNextEntry(new ZipEntry(path + "/" + folder.getName()));
    while ((len = in.read(buf)) &gt; 0) {
          zip.write(buf, 0, len);
    }</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Export path<br>
<strong>Alternative 1 (current choice):</strong> Allow both a default location and a path specified by the user<br>
<strong>Pros:</strong> Gives the advanced user more freedom when using the feature<br>
<strong>Cons:</strong> Longer code that requires more testing and much easier to break<br>
<strong>Alternative 2:</strong> Allow the user to specify the location<br>
<strong>Pros:</strong> Less chance of mistakenly overwriting a previous addressbook version<br>
<strong>Cons:</strong> Harder for newer users to pick up on as it requires them to be be familiar with the way their OS handles directories</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Export format<br>
<strong>Alternative 1 (current choice):</strong> Compressed into a zip file<br>
<strong>Pros:</strong> Less chance of tampering with by users<br>
<strong>Cons:</strong> More complex code and the difficulty introduced can hinder certain operations<br>
<strong>Alternative 2:</strong> Copy the data directory to a specified path<br>
<strong>Pros:</strong> Will produce plain files that can  be edited using outside programs without the need of uncompressing<br>
<strong>Cons:</strong> OS can include hidden files into the directory without the user&#8217;s knowledge that may hinder future import feature<br>
<strong>Alternative 3:</strong> Use a proprietary file type<br>
<strong>Pros:</strong> Will be the hardest for the average and intermediate users to tamper with and best for the future import feature<br>
<strong>Cons:</strong> Much more complex to implement</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-add-command-code-import-code"><a class="link" href="#enhancement-proposed-add-command-code-import-code">Enhancement Proposed: Add command <code>import</code></a></h3>
<div class="paragraph">
<p>An extension to the <code>export</code> command in that the user should be able to load up a backed up version of the addressbook and all the images saved by typing the command name and pointing to the filepath of the exported addressbook zip. The addressbook would then load up the addressbook and replace the working version with the imported version.</p>
</div>
<div class="paragraph">
<p>Something that would need to be kept in mind when implementing this feature is the validation of the imported database file as importing a corrupt database would mean the loss of any working version if the user did not have other backups.</p>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-add-a-condensed-help-screen"><a class="link" href="#enhancement-proposed-add-a-condensed-help-screen">Enhancement Proposed: Add a condensed help screen</a></h3>
<div class="paragraph">
<p>To help newer users pick up on shortcuts and commands available in the application, I had the idea of using the web browser space that defaults to a Google search as a viewer for a condensed help screen. The help screen would include a list of the commands and shortcuts to those commands as well as an annotated screenshot of the UI of the program to explain what each section is for.<br>
The option for the condensed help screen would be on by default but the user would be able to default back to the web search if they want using an option from the drop down menu.<br></p>
</div>
<div class="paragraph">
<p>A feature very similar to this this was implemented by someone else and released in version 1.4.</p>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-admin-permissions"><a class="link" href="#enhancement-proposed-admin-permissions">Enhancement Proposed: Admin permissions</a></h3>
<div class="paragraph">
<p>An idea that I initially had was to include a login feature that would allow multiple users with different levels of permissions to use the addressbook. This idea was later scrapped when the focus of the addressbook was narrowed down and the vision of catering to a small business/one person was thought up.</p>
</div>
<div class="paragraph">
<p>The idea was later transformed into an administrator mode that the user would be able to access to use higher risk commands such as import and clear to avoid tampering and mistakes that may lead to a corrupt database. The idea now is to have those features locked behind a mode that is accessed using a command word and then a password.</p>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Most of the work on the group documentation and keeping them up to date (e.g. pull requests <a href="https://github.com/CS2103AUG2017-T12-B4/main/pull/65">#65</a>, <a href="https://github.com/CS2103AUG2017-T12-B4/main/pull/44">#44</a>, <a href="https://github.com/CS2103AUG2017-T12-B4/main/pull/8">#8</a> and various closed issues)</p>
</li>
<li>
<p>Setting up of tools such as Google Docs in the early stages to collaborate during the planning stages.</p>
</li>
<li>
<p>Helping out with the testing of other members&#8217;s features (e.g. issue <a href="https://github.com/CS2103AUG2017-T12-B4/main/issues/61">#61</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-09 02:30:51 +00:00
</div>
</div>
</body>
</html>